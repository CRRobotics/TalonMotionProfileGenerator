<html>
<head>
<title>Path Generator</title>
</head>
<body>

<script>
var p1 = {x: 0, y: 2};
var vel1 = {x: 1, y: 0};
var acc1 = {x: 0, y: -1};

var p2 = {x: 2, y: 1};
var vel2 = {x: 1, y: 0};
var acc2 = {x: 0, y: 1};
var robotMaxSpeed = 2;//5 inches per second
var robotAcc = 0.5;//1 inch per second per second

//	Works for 5th degree polynomials
//	Takes in 2 pts, 2 velocity vectors, 2 acceleration vectors
//
function getPolynomialConstants(pt1, pt2, v1, v2, a1, a2)
{
	var matrixA = math.matrix([[Math.pow(pt1['x'], 5), Math.pow(pt1['x'], 4), Math.pow(pt1['x'], 3), Math.pow(pt1['x'], 2), Math.pow(pt1['x'], 1), 1],
					[Math.pow(pt2['x'], 5), Math.pow(pt2['x'], 4), Math.pow(pt2['x'], 3), Math.pow(pt2['x'], 2), Math.pow(pt2['x'], 1), 1],
					[5 * Math.pow(pt1['x'], 4), 4 * Math.pow(pt1['x'], 3), 3 * Math.pow(pt1['x'], 2), 2 * Math.pow(pt1['x'], 1), 1, 0],
					[5 * Math.pow(pt2['x'], 4), 4 * Math.pow(pt2['x'], 3), 3 * Math.pow(pt2['x'], 2), 2 * Math.pow(pt2['x'], 1), 1, 0],
					[20 * Math.pow(pt1['x'], 3), 12 * Math.pow(pt1['x'], 2), 6 * Math.pow(pt1['x'], 1), 2, 0, 0],
					[20 * Math.pow(pt2['x'], 3), 12 * Math.pow(pt2['x'], 2), 6 * Math.pow(pt2['x'], 1), 2, 0, 0]]);
	var matrixB = math.matrix([pt1['y'], pt2['y'], v1['y'], v2['y'], a1['y'], a2['y']);
	var coefficients = math.multiply(math.inv(matrixA), matrixB);
	return coefficents;
}

function f(x, coefficients)
{
	var sum = 0;
	for (i = 5; i >= 0; i--)
	{
		sum += Math.pow(x, i) * coefficients[5 - i];
	} 
	return sum;
}

function derivative(x, coefficients)
{
	var sum = 0;
	for (i = 4; i >= 0; i--)
	{
		sum += (i + 1) * Math.pow(x, i) * coefficients[4 - i];
	} 
	return sum;
}

function acceleration(x, coefficients)
{
	var sum = 0;
	for (i = 3; i >= 0; i--)
	{
		sum += (i + 2) * (i + 1) * Math.pow(x, i) * coefficients[3 - i];
	} 
	return sum;
}

</script>
</body>
</html>